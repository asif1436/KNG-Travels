{% extends 'base.html' %}
{% load static %}
{# Load the tag library #}
{% load bootstrap4 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}

{% bootstrap_javascript jquery='full' %}

{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}

{% block content %}

    <div class="row justify-content-center">
        <div class="box">
            <div class="login-logo">
              <a href=><b>Upcoming TRIPS</b></a>
                </div>
            {% if live_os %}
            {% for x in live_os %}                                 
            <div class="card card-outline card-danger collapsed-card m-1">                
                <div class="card-header">
                    <h1 class="card-title" data-card-widget="collapse">Booking-ID : {{ x.os_persional_info.p_order_id }}</h1>
                    <div class="card-tools">
                        <button type="button" class="btn btn-tool pt-3 " data-card-widget="collapse"><i class="fas fa-plus"></i>
                        </button>
                        </div>
                </div>
                <div class="card-body p-0">
                    <table class="table table-striped table-responsive">
                        <tr>
                            <td>NAME    :</td>
                            <td>{{ x.os_persional_info.p_name }}</td>
                        </tr>
                        <tr>
                            <td>PHONE NO.   :</td>
                            <td>{{  x.os_persional_info.p_Phone }}</td>
                        </tr>
                        <tr>
                            <td>EMAIL ID    :</td>
                            <td>{{  x.os_persional_info.p_email }}</td>
                        </tr>
                        <tr>
                            <td>Itinerary   :</td>
                                <td>{{ x.os_from }}>{{ x.os_to }}>{{ x.os_from }}</td>
                            </tr>
                        <tr>
                            <td >Pickup Date :</td>
                            <td >{{ x.os_pickup }} at {{ x.os_picktime }}</td>
                        </tr>
                        <tr>
                            <td>Return Date :</td>
                            <td>{{ x.os_return}}</td>
                        </tr>
                        <tr>
                            <td>Trip Type   :</td>
                            <td>{{ x.os_trip_type }}</td>
                        </tr>
                        <tr>
                            <td>Car Type    :</td>
                            <td>{{ x.os_car.c_car }} ({{ x.os_car.c_ac_type }})</td>
                        </tr>
                        <tr>
                            <td>Total Fare  :</td>
                            <td>{{ x.os_car.c_amount }}</td>                            
                        </tr>
                        <td>
                            <!-- <td><a href="{% url 'editbooking' x.id %}" class="btn btn-primary">Edit Booking</a></td> -->
                            <td><a href="#" value = "{% url 'cancelbooking' x.os_persional_info.id %}" class="btn btn-danger swalDefaultSuccess">Cancel Booking</a></td>                             
                        </td>
                        
                        </tbody>
                    </table>        
                </div>          
            </div><br>
            {% endfor %}
            {% endif %}
            {% if live_l %}
            {% for x in live_l %}                        
            <div class="card card-outline card-danger collapsed-card m-1">                
                <div class="card-header">
                    <h2 class="card-title" data-card-widget="collapse">Booking-ID : {{ x.l_persional_info.p_order_id }}</h2>
                    <div class="card-tools">
                        <button type="button" class="btn btn-tool pt-3 " data-card-widget="collapse"><i class="fas fa-plus"></i>
                        </button>
                        </div>
                </div>
                <div class="card-body p-0">
                    <table class="table table-striped table-responsive">
                        <tr>
                            <td>NAME    :</td>
                            <td>{{ x.l_persional_info.p_name }}</td>
                        </tr>
                        <tr>
                            <td>PHONE NO.   :</td>
                            <td>{{  x.l_persional_info.p_Phone }}</td>
                        </tr>
                        <tr>
                            <td>EMAIL ID    :</td>
                            <td>{{  x.l_persional_info.p_email }}</td>
                        </tr>
                        <tr>
                            <td>Itinerary:</td>
                                <td>{{ x.l_from }}>{{ x.l_to }}>{{ x.l_from }}</td>
                            </tr>
                        <tr>
                            <td>Pickup Date :</td>
                            <td>{{ x.l_pickup }} at {{ x.l_picktime }}</td>
                        </tr>
                        <tr>
                            <td>Return Date :</td>
                            <td>{{ x.l_return}}</td>
                        </tr>
                        <tr>
                            <td>Trip Type   :</td>
                            <td> Local </td>
                        </tr>
                        <tr>
                            <td>Car Type    :</td>
                            <td>{{ x.l_car.c_car }} ({{ x.l_car.c_ac_type }})</td>
                        </tr>
                        <tr>
                            <td>Total Fare  :</td>
                            <td>{{ x.l_car.c_amount }}</td>                            
                        </tr>
                        <td>
                            <!-- <td><a href="{% url 'editbooking' x.id %}" class="btn btn-primary">Edit Booking</a></td> -->
                            <td><a value = "{% url 'cancelbooking' x.l_persional_info.id %}" class="btn btn-danger swalDefaultSuccess">Cancel Booking</a></td>                             
                        </td>
                        
                        </tbody>
                    </table>        
                </div>          
            </div><br>
            {% endfor %}
            {% endif %}
            {% if live_ap %}
            {% for x in live_ap %}                        
            <div class="card card-outline card-danger collapsed-card m-1">                
                <div class="card-header">
                    <h2 class="card-title" data-card-widget="collapse">Booking-ID : {{ x.ap_persional_info.p_order_id }}</h2>
                    <div class="card-tools">
                        <button type="button" class="btn btn-tool pt-3 " data-card-widget="collapse"><i class="fas fa-plus"></i>
                        </button>
                        </div>
                </div>
                <div class="card-body p-0">
                    <table class="table table-striped table-responsive">
                        <tr>
                            <td>NAME    :</td>
                            <td>{{ x.ap_persional_info.p_name }}</td>
                        </tr>
                        <tr>
                            <td>PHONE NO.   :</td>
                            <td>{{  x.ap_persional_info.p_Phone }}</td>
                        </tr>
                        <tr>
                            <td>EMAIL ID    :</td>
                            <td>{{  x.ap_persional_info.p_email }}</td>
                        </tr>
                        <tr>
                            <td>Itinerary :</td>
                            <td>{{ x.ap_city }}>{{ x.ap_pic_add }}</td>
                            </tr>
                        <tr>
                            <td>Pickup Date :</td>
                            <td>{{ x.ap_pickup }} at {{ x.ap_picktime }}</td>
                        </tr>
                        <tr>
                            <td>Return Date :</td>
                            <td>{{ x.ap_return}}</td>
                        </tr>
                        <tr>
                            <td>Trip Type   :</td>
                            <td>{{ x.ap_trip }}</td>
                        </tr>
                        <tr>
                            <td>Car Type    :</td>
                            <td>{{ x.ap_car.c_car }} ({{ x.ap_car.c_ac_type }})</td>
                        </tr>
                        <tr>
                            <td>Total Fare  :</td>
                            <td>{{ x.ap_car.c_amount }}</td>                            
                        </tr>
                        <td>
                            <!-- <td><a href="{% url 'editbooking' x.id %}" class="btn btn-primary">Edit Booking</a></td> -->
                            <td><a value = "{% url 'cancelbooking' x.ap_persional_info.id %}" class="btn btn-danger swalDefaultSuccess">Cancel Booking</a></td>                             
                        </td>
                        
                        </tbody>
                    </table>        
                </div>
            </div><br>
            {% endfor %}
            {% endif %}
            {% if not live_ap and not live_l and not live_os %}
            <div class="shadow p-4 mb-4 bg-white">
                <div class="card-body d-flex">
                    <div class="p-1 flex-fill">
                        <div >
                            <h1> Dear {{ name|title }},</h1>
                            <h2> Sorry You Don't Have Any Upcoming bookings... </h2>
                        </div>
                    </div>
                </div>                
            </div>
            {% endif %}
            <div class="row justify-content-center">
                <a href="{% url 'pre_booking' %}" name="" class="btn btn-success btn-lg" >Go Back</a>
            </div> 
        </div>    
    </div>
    
{% endblock %}